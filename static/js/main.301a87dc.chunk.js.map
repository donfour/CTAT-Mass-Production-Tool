{"version":3,"sources":["assets/html-icon.png","assets/brd-icon.png","assets/check-icon.svg","assets/upload-icon.svg","pages/landing/UploadButton.tsx","components/Button.tsx","pages/landing/LandingPage.tsx","assets/html-icon-small.png","assets/css-icon-small.png","assets/brd-icon-small.png","pages/editor/TutorInterface.tsx","pages/editor/EditableCell.tsx","assets/caret-down-icon.svg","pages/editor/Cells.tsx","pages/editor/TableRow.tsx","pages/editor/Editor.tsx","pages/editor/EditorPage.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["UploadButton","props","onUpload","replace","hiddenFileInput","useRef","handleClick","useCallback","current","click","onClick","className","src","uploadIcon","alt","children","type","ref","onChange","style","display","Button","disabled","rest","LandingPage","brd","html","css","onBrdUpload","onHtmlUpload","onCssUpload","onEditorLaunch","useState","htmlFileName","setHtmlFileName","cssFileName","setCssFileName","brdFileName","setBrdFileName","isTutorReady","useMemo","handleHtmlUpload","event","target","files","name","handleCssUpload","handleBrdUpload","htmlIcon","checkIcon","brdIcon","stitchHtmlAndCss","split","head","getBlobURL","code","blob","Blob","URL","createObjectURL","TutorInterface","id","title","sandbox","EditableCell","initialValue","value","onFinishEdit","setValue","useEffect","e","onBlur","TYPE_CELL_STYLES","IMPORTED_VALUE_CELL_STYLES","TableRow","cells","data","editCell","callbacks","isExpanded","setIsExpanded","toggleIsExpanded","caretIcon","map","cell","questionIndex","input","newValue","buggyMessage","hints","_","hintLevel","newHints","zip","JSZip","x2js","X2JS","selfClosingElements","Editor","questions","setQuestions","initialRows","stateGraph","edge","filter","actionLabel","message","properties","Input","matchers","matcher","matcherType","hintMessage","uniqueID","selection","Selection","matcherParameter","__text","rows","initialRow","index","question","addNewQuestion","existingQuestions","rowIndex","newCell","newQuestions","generateBrdForQuestion","document","JSON","parse","stringify","forEach","row","find","onExportBrds","length","xml","js2xml","file","generateAsync","then","content","saveAs","onMouseEnter","iframe","getElementById","contentWindow","classList","add","onMouseLeave","remove","EditorPage","App","setBrd","setHtml","setCss","isEditorLaunched","setIsEditorLaunched","a","text","xml2js","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.301a87dc.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/html-icon.ca4b5db2.png\";","export default __webpack_public_path__ + \"static/media/brd-icon.3abf6b01.png\";","export default __webpack_public_path__ + \"static/media/check-icon.d9e83021.svg\";","export default __webpack_public_path__ + \"static/media/upload-icon.482fcdb5.svg\";","import React, {ChangeEvent, useCallback, useRef} from 'react';\nimport uploadIcon from \"../../assets/upload-icon.svg\";\n\ninterface FileUploaderProps {\n  replace?: boolean;\n  onUpload: (event: ChangeEvent<HTMLInputElement>) => void;\n}\n\nconst UploadButton: React.FC<FileUploaderProps> = (props) => {\n  const { onUpload, replace } = props;\n  const hiddenFileInput = useRef(null);\n  const handleClick = useCallback(() => {\n    // @ts-ignore\n    hiddenFileInput?.current?.click();\n  }, []);\n\n  return (\n    <>\n      {\n        replace ? (\n          <button onClick={handleClick} className=\"text-primary\">Replace</button>\n        ) : (\n          <button onClick={handleClick} className=\"text-primary border rounded-sm border-gray-200 flex justify-center items-center gap-1 py-1.5 px-5\">\n            <img src={uploadIcon} alt=\"An upload icon\"/>\n            {props.children}\n          </button>\n        )\n      }\n      <input\n        type=\"file\"\n        ref={hiddenFileInput}\n        onChange={onUpload}\n        style={{display: \"none\"}}\n      />\n    </>\n  );\n}\n\nexport default UploadButton;\n","import React from \"react\";\n\nfunction Button(props: JSX.IntrinsicElements[\"button\"]) {\n  const {children, disabled, ...rest} = props;\n\n  return (\n    <button\n      disabled={disabled}\n      className={`${disabled ? \"bg-primary-light\" : \"bg-primary\"} text-white rounded-sm px-6 py-1 filter drop-shadow-md`}\n      {...rest}\n    >\n      {props.children}\n    </button>\n  );\n}\n\nexport default Button;\n","import React, {ChangeEvent, useCallback, useMemo, useState} from \"react\";\n\nimport htmlIcon from \"../../assets/html-icon.png\";\nimport brdIcon from \"../../assets/brd-icon.png\";\nimport htmlIconSmall from \"../../assets/html-icon-small.png\";\nimport brdIconSmall from \"../../assets/brd-icon-small.png\";\nimport cssIconSmall from \"../../assets/css-icon-small.png\";\nimport checkIcon from \"../../assets/check-icon.svg\";\nimport {Brd} from \"../../types\";\n\nimport UploadButton from \"./UploadButton\";\nimport Button from \"../../components/Button\";\n\ninterface LandingPageProps {\n  brd?: Brd;\n  html?: string;\n  css?: string;\n  onBrdUpload: (event: ChangeEvent<HTMLInputElement>) => void;\n  onHtmlUpload: (event: ChangeEvent<HTMLInputElement>) => void;\n  onCssUpload: (event: ChangeEvent<HTMLInputElement>) => void;\n  onEditorLaunch: () => void;\n}\n\nfunction LandingPage(props: LandingPageProps) {\n  const {brd, html, css, onBrdUpload, onHtmlUpload, onCssUpload, onEditorLaunch} = props;\n  const [htmlFileName, setHtmlFileName] = useState<string>();\n  const [cssFileName, setCssFileName] = useState<string>();\n  const [brdFileName, setBrdFileName] = useState<string>();\n\n  const isTutorReady = useMemo(() => html && brd, [html, brd]);\n\n  const handleHtmlUpload = useCallback((event: ChangeEvent<HTMLInputElement>) => {\n    setHtmlFileName(event?.target?.files?.[0]?.name);\n    onHtmlUpload(event);\n  }, [onHtmlUpload]);\n\n  const handleCssUpload = useCallback((event: ChangeEvent<HTMLInputElement>) => {\n    setCssFileName(event?.target?.files?.[0]?.name);\n    onCssUpload(event);\n  }, [onCssUpload]);\n\n  const handleBrdUpload = useCallback((event: ChangeEvent<HTMLInputElement>) => {\n    setBrdFileName(event?.target?.files?.[0]?.name);\n    onBrdUpload(event);\n  }, [onBrdUpload]);\n\n  return (\n    <div className=\"h-screen bg-blue-50 flex justify-center items-center\">\n      <div className=\"flex flex-col items-center gap-5\">\n        <h1 className=\"text-4xl text-primary font-bold\">CTAT Mass Production Tool</h1>\n        <h2 className=\"text-gray-500\">Easy edit, fast produce!</h2>\n        <div className=\"flex gap-5\">\n          <div className={`h-96 w-32rem flex flex-col items-center bg-white rounded-sm ${html ? \"\" : \"border justify-center\"} border-primary border-dashed gap-5 p-4`}>\n            {\n              !html && (\n                <>\n                  <img className=\"h-32 w-32\" src={htmlIcon} alt=\"An icon for an HTML file\"/>\n                  <UploadButton onUpload={handleHtmlUpload}>Upload HTML</UploadButton>\n                </>\n              )\n            }\n            {\n              html && (\n                <div className=\"flex justify-between w-full border-b h-32\">\n                  <div className=\"flex items-center gap-3\">\n                    <img className=\"h-10 w-10\" src={htmlIconSmall} alt=\"An icon for an HTML file\"/>\n                    {htmlFileName}\n                    <img className=\"h-4 w-4\" src={checkIcon} alt=\"An checkmark icon\"/>\n                  </div>\n                  <UploadButton replace onUpload={handleHtmlUpload}/>\n                </div>\n              )\n            }\n            {\n              html && !css && (\n                <>\n                  <div className=\"flex flex-col justify-center items-center gap-4 border border-primary border-dashed rounded-sm w-full h-full my-8\">\n                    If you have a CSS file (optional)\n                    <UploadButton onUpload={handleCssUpload}>Upload CSS</UploadButton>\n                  </div>\n                </>\n              )\n            }\n            {\n              html && css && (\n                <div className=\"flex justify-between w-full border-b h-32\">\n                  <div className=\"flex items-center gap-3\">\n                    <img className=\"h-10 w-10\" src={cssIconSmall} alt=\"An icon for a CSS file\"/>\n                    {cssFileName}\n                    <img className=\"h-4 w-4\" src={checkIcon} alt=\"An checkmark icon\"/>\n                  </div>\n                  <UploadButton replace onUpload={handleCssUpload}/>\n                </div>\n              )\n            }\n          </div>\n          <div className={`h-96 w-32rem flex flex-col items-center bg-white ${brd ? \"\" : \"border justify-center\"} rounded-sm border-primary border-dashed gap-5 p-4`}>\n            {\n              brd ? (\n                <div className=\"flex justify-between w-full border-b h-32\">\n                  <div className=\"flex items-center gap-3\">\n                    <img className=\"h-10 w-10\" src={brdIconSmall} alt=\"An icon for a BRD file\"/>\n                    {brdFileName}\n                    <img className=\"h-4 w-4\" src={checkIcon} alt=\"An checkmark icon\"/>\n                  </div>\n                  <UploadButton replace onUpload={handleBrdUpload}/>\n                </div>\n              ) : (\n                <>\n                  <img className=\"h-32 w-32\" src={brdIcon} alt=\"An icon for a BRD file\"/>\n                  <UploadButton onUpload={handleBrdUpload}>Upload BRD</UploadButton>\n                </>\n              )\n            }\n          </div>\n        </div>\n        <Button onClick={onEditorLaunch} disabled={!isTutorReady}>Launch</Button>\n      </div>\n    </div>\n  );\n}\n\nexport default LandingPage;\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAB8CAYAAACrHtS+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA/1SURBVHgB7Z15lBTV9cdvLd3VXb3ADLLJuADO8NMACQMaQH9Hh0X8wU9xAUxATKIJLud4DtmOJiHn5CQxyV9mJUpiyEIkiUIQBRUDAi6AEs2wqYEwJCGKDMzW3dXVS1W9vDtND1091UMv1TM1VfU5h8N0T8/rPu/73n3fe9+rLgYsCiGEO306NkwmvOgDe5Pg1MTYEcGPoB9gwGK8//6ZUPii4Nc1DW6jH240ARICC35OM0ml1Y54AlZNHB/6OVQZS3XksVPR4SLPvUAITAMHkUprSkxWVJbhvlRt0VmwCDSEs36Oe9ZpYucgaER97Mjx2FKoIpYR/OSZ2AP0v5ngbASVKGurKbolBKezm6HhbDm4ICj6U4daIvdCFbCE4O3tEKKiN4BLD0TTnqyG6JYQPKJKIkMYP7jooKI/dqil6y4wESuZNlunXmUSJhp58vDx6INgEpYR3KUg3e794PHI58AEXMEHBwKN748fPhq9AyrEFXzwIGisuqFSI+cKPsio1L27gg9CUPSDLZ2LoQxcwQcrGqwrx727gg9eut17qaK7gg9uukVvPt5xe7F/4Ao++BFYwqwv1si5gtsDoVj37gpuIzKi9117dwW3AAxDEmAStPa+uq+Z7gpuAViW5YEBBcyBbrhoqwu59+4dKvKtm0U4ra4Chr2dDpHh/X/UjWGA5XiwGZrg05LjJnkiTUtYZXhdX4dv1UgsrSgaEcA8khzD3/Ox8cH1uU8y5MHFo0CLb6YaXwMuVYHwHqXtzq+oyYbGgoIqqhaNSIoXcKPEPHqJTkO6/IgrdnVhlDRf+9wThNXUgmGb59iQ6OOidHgkwTx6HZeigpObwaXqsNEOgW09merrNT4vd1FI5NMcB3E8EgImkZuy8bQme7m9j/lbBoaPdqSUUZeLfb3Iw3PBITwHmkbiaRU0Ko3PjNNA1CX95ERrbCu6Q9ep9xMMFD9pWZYRBfb8X5qAyKmMzxXbYbiCO4zq5r5iAOCTcwAmTAIYM/b88+2tAP9pATiwD+Doob7baKB/+/HpAP4gFMWBvZl2zWhr3/YLf75BRnUER6EXrQCYPtv498NGAtTTzm9aCNBGxd+6PtO5uaA4y1dmXlsKbad7C15uW0cPgt0wX3Ds3BWrMqIXw7ARAHdTMepoBNjwy8xzOAvvWwWmMGNORmyXbswV3IzOxQGw6AtgCtjWHSa1ZRPMExw7t5DYxw5l1uyzrZmZXzcuEwn856IAruk7N2d+XrCsd+iVJYCTLVAUGNKzYFv5kaaUtvBz2QzzBF/5/d7PYYf97ofGxgcHyHQaERYsBdiyPrOWI7nmLtvG9x4CiEtQMvUT9Y9x0P3oa+W1ZRPMERzNWf6svFDnZs0azv7cAXHJOP3rXtlcnkAYPfI/E76fg8VGzMnDF+Rdv46zcs13i+vcaqU9ssF7+4s0kjamcsFxPc6fSbkhulTy11dM3TD8l0Pueo50+4My27IJlYf0WoMOPLgXyubgPn1YR4G+szYTLeRY79djNNm7o3cej+zboY8+2bbyB0KWD04ANO8zbssmVC54/pqLa3cl6ySu2UaeAN22UW6fLeKgsD96RB9ZCrVVqACDz0+mNYAZszNms81+Lt16tXRce9HsFZqFhcDZu/IH+kGBba151Hg97wscQPeVUDwaRFQueH5nmmGMcGah6BiSSwFFxzU/F4w4mNaV2hZ6k/y2bEDlIf1s3kzEsIgdX2k4bDuXw299KtP5RgOpYfK5zZCc381amCni5C4rxbaVX/vHtrauBztRueDHDNIqnBnZuniloFiFBg/OWgy/X8wp+qCYtXTQxVtKb6uZms37V+nbwgHynyIrc4MAc0J6fi6NMwNLp/2B0YCrGwtlYdSWzdZxc0ybUdhD01M3ru+/695G/UJlnWr0HuXWwC/0eW2AOaVVnBm4B43raRYMh1//SSZU4tqZG0pRYEx/MJXKpki5SwB2fDGDAGsACwy+pTI3BBfb1hj6ulm39N2WDTBv8wRNEQqcn+OiEcJ/aKI+aMmIhCdOxDyjhQMj27k468tdErCdXMN23zdKP/hQqK1i4DgVVJUDi2JeHn6h/BkFRoOFnW804xabsG+NoRyjiRmU29YlV6TBwphbeCk3f25vrTz9wTZ++Ig51bFK2uo4o4GFMf+IUzbn3bs9s772FZoxKmD5c+fm8suxGFFwgFXShpltdbWLYGEY8sAC0y5pMQSLMGicsuYJOzK7nhfaGsXXFVOxk6ULC1Ps7lgxbVVI+11f65TrG4fCAMGpzNjqX6KbLXYUOjpsRNzEzrfhBkgluBciOAxX8H5l4K/aRMFlcOkXNCEw4Pk5C4QpMYdyKQfNH0ikRtSZ+e0OZcECp30XgDj7KGc/IE+6TiU+0QsDDMusfuFNKvt8+vMxcDEdwvHpSNOSaOf8z1siP+9xEWTxVV4YcfkU0EgtDfP9utaotaODXfOWP04YZsBDnql4/ZCsq+eIVxjwmY1gHm6JL/s40RobxWvMPxnWZoJbDBTcTcschiu4w3AFdxiu4A7DFdxhuII7DFdwh+EK7jBcwR2GK7jDcAV3GLa77cRA4nvvTalmy5OgCX6m86bPkmRDo+UuTHNnuEmwXW3qsA0/9bKxzgDfdkqs3bSah4RsuYsSXMFNIvDOKxIoSU/2MZuMA6ulLXdRgiu4GRBNEw+/ptvzTo25gmhi2HLbvY5fw4V/vZfyN+/S1GBNKj51TkAdelHJhz+8J44k+bOn/LnPSVNn99zQhk0nleCeLWmu/SNOvuqadKJhmggMMyBnERwtuO/wG9KwDT8WgBCcnT7fP4/IZ+75jg+Y0s4TB9/Zrnu95hOT8sRre+5TFnp5XSL41rbuL2kXm3fzketvl6OzPjUgR54cG9L9h/dkxe4Z9PyZkxwoqZLuEMhoquptOawTnIqtEN7T0673wxM54Z6w4d1/9ol/2xGDAcCRgntPHk3Ubvwxnys2kho7KQ0er6ektloOJTkpolurY42z9AOgoTHv9lWErXl2jTgQojtO8MBb284OX/tNBjRNJ5L8seln229/qOQlLvTG87rH6TH1CeXi8bpwHbv+jmD02lvyxEXRnwiGX/lTBPoRRwmOYg99cW3ISOyO2x4KEY+3JFfNdbQmhX+/q3Pn8oSpKhj4scjcu0Tpmnm9zv+Hdm8Ih179c7/NdMcILrQclIzETl0yQer6/xVDSxUb8b37ZhoUJScqMJr8P1cbu3yGYbv+73OCkejhV/7gC77+XBT6AUe4dHTjtc/9QqRi66Zeon6K1LF4pagJYukpEiFacP/LuvU+eemEuDLy0oK3TCIsx1PRgQiiHHxt0/k0jgA/ZPs6P6sk5cj1i3zVTNlsP8OzqReTjOs6MYliL3tYKEts6M7fE3zHR7qoIE2bc8H+7BZ99qeFxMSZ+jBORQ/tfEYI7N1a1Ys7bS04hvH81AtJj7480XbnV3iNKf+e5YG3t6u5j+mSkJSvnFGcw6fhvW3RSrGX6HQ4DN32u6qmbLYVnBY4Oi5a92iv1CtZ39hx5t5HmXLW7CwMzdXp+q27AXz849cnwVtCSndOdGP3vkYM73q6Kmu6LQVHN16z+eeikRtvu/PLYiViI7SUmqainxeXAJGmzin9+jEqeuTG5UFp+vw8I0dYGt5DoV3PmH5Vr+0Ex5ldyI2Xk3oZEdq/TfdFSOlRlyXTF48ru92ueXcbu/ddTwtmu3dbCe77+35p6Eu/7iU2GrT2pQ8LZojNRTsSwvEDutQr3jgL973Ldtbn3LsgzbxZxmhx/hcZ9x54fVMcTMJWgtc++zgwsqRbszH1aqduXBVDpqSg4t92KTT3zhk4jBZvmFrx5cAoeueNywXp6hv1Lp2KHt65QWA7Wkuq8RfCPoITQhg53kvU1LjJSiVuXP8WeNBhh67PUnXjE1rtSHP2vemaLo+f3OtpVklxjKaYcnrGPoLTYkXkhkW9ZkF422/DodeeNSXNET44GuM6Tuvq5NK0eWAW3qNvx4f96bFeTj9x5TURddjFfjABW1XaojcsCjCqkgi9ujE3ZWLC258KsvGuSNe8z4ShAoJvPKebIJoYSspXfbKk3bVCBPZs6RyybV2A7uro2pOmzY10zr/HtL1z27n0yKwl3ti1C1P5zwf3bKGbFBuTUCZ0ICm+Y806s0Y3ShQi+CsWvJDY8UnXxbrF5njTJqb98nCGZbvmLuWNRA/v+KOnXNE9/3pXYdLJ3LWaSFNmVfxdOL6jb0tDdj8TzBc7NW6S1LngXr+ZYiP23DzpFn2Zh+5vSKE9z+eeDWep6F42EY93zVnmA5YtesCH9m7V+YP0yEvl9GVXVhRq/c27pZpNq/0M9ei5z8tXzZDaF6/0l/L5isW+tXQ0cTcuF+OfaMo3bAxdi/3Bt14qOrdlpa6k7x8HdKVUqXF2RUeQC4mdvOITcrXERuy9W0ZF77j1gYCR6ENe/HUg+OaLRVWx/AdeVUBTddEwPvl/y869PSeOJIzETtXVy2eXPuypltiI/Q9AoOi3PRiMNC3OF5cZ8sLa0JBtv+3ziBEeUgz+9S+6tTp96QSZiKGyBEeDNvw33+byxUY3fuaeb3vMXrPzccyJl+gNS0Kx64zde3jn04lCf+f599/TfNspXWElOm1uWTcVuGDqVWWxEUedaeuaQ927geh0V8pbyL0H39mBZq2nTq4J/mSiobFkd+4/9EbMSGx04/RzBfpDbMRZFyKge5+zjAfOkwju3uiF82EV3btHY3lZum5hT0WLuvmU78henUDyxJmE+EO+Ut7Wd/yAVPP8GhRbf3yZuvHOW+8XSZmnbsrBeefS8TBh0xIh3tiU79LZ8N6tPKRTPTVrz4nDGqOkdeE8fvXckjcxQrs3skxS7iU2unGtH8VGnHnlCRq5W+4PSFOadEaO8Jyae8VI4OBrutRLrR0tpUaPD0KJUFF1j9GNVzP16gvnXltGRe9c+EBQrRkZC+x/yasFatjOeZ9hmHMnRrlou+J7b78unEdnzC+rv7puuptlUrLMn/2Qo9u10HnzCs9AiI2436ZMYTVV0VgOjVhPf9DiTHTIy+tC51/FqKe+ukbRgjXln4Wj9XjST+bMCPfblM9BxUYRdIPff/h1XZ6dHnNFuhKxkYEUO4sreAG4WESXvsWmNKlgA1zBC9A1724WWK7bkafG1MfiU2ebcgBhoHHX8D7gIu1JJh7VlFGX2ULs/rkV5SBGDdcKEK4FO+GGdIfhCu4wXMEdhiu4w7CM4LSiablvLbQbmkBrTGABwlwgTtz7n1YXAnLsTDpuCcFrayFK9xKawaVq0C2h9ydMCJ+1hOA0nBMtTZ4Al+pByGb8zzJreN1o/yYadn4PLtWgmaTVn+EPljJtjN//ReKKbjLMCwEPc2tdXbit+xFYkA9bEzepRF1BAGYywIxgGGt+TiuClzQzLHSCRvbTSfSri4f7n8YlM/v7/wK9NE2hIAdqXAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","import React from \"react\";\n\ninterface TutorInterfaceProps {\n  html?: string;\n  css?: string;\n}\n\nfunction stitchHtmlAndCss(html: string, css: string) {\n  const [head, rest] = html.split(\"</head>\");\n  return `\n    ${head}\n    <style>\n      ${css || \"\"}\n      .active {\n        border: 2px solid blue;\n      }\n    </style>\n    <script>\n        CTATConfiguration.set('question_file', window.location.href + '/dummy.brd');\n    </script>\n    </head>\n    ${rest}`;\n}\n\nfunction getBlobURL(code: string, type: string) {\n  const blob = new Blob([code], {type});\n  return URL.createObjectURL(blob);\n}\n\nfunction TutorInterface(props: TutorInterfaceProps) {\n  const {html, css} = props;\n  return html && css ? (\n    <iframe\n      id=\"tutor\"\n      title=\"tutor interface\"\n      sandbox=\"allow-same-origin allow-scripts\"\n      className=\"h-full w-full\"\n      src={getBlobURL(stitchHtmlAndCss(html, css), 'text/html')}\n    />\n  ) : null;\n}\n\nexport default TutorInterface;\n","import React, {useCallback, useEffect, useState} from \"react\";\n\ninterface EditableCellProps {\n  value?: string;\n  onFinishEdit: (newValue?: string) => void;\n}\n\nfunction EditableCell(props: EditableCellProps) {\n  const {value: initialValue, onFinishEdit} = props;\n\n  const [value, setValue] = useState(initialValue);\n  useEffect(() => setValue(initialValue), [initialValue]);\n\n  const onChange = useCallback(e => setValue(e.target.value), []);\n  const onBlur = useCallback(() => onFinishEdit(value), [value, onFinishEdit]);\n\n  return <input value={value} onChange={onChange} onBlur={onBlur}/>;\n}\n\nexport default EditableCell;\n","export default __webpack_public_path__ + \"static/media/caret-down-icon.ead9a47f.svg\";","export const EXPAND_CELL_STYLES = \"block text-center py-4 w-10\";\nexport const TYPE_CELL_STYLES = \"p-4\";\nexport const IMPORTED_VALUE_CELL_STYLES = \"w-48 border-r border-r-4 border-gray-300\";\n","import React, {useCallback, useState} from \"react\";\nimport {Cell, Row} from \"./Editor\";\nimport EditableCell from \"./EditableCell\";\n\nimport caretIcon from \"../../assets/caret-down-icon.svg\";\nimport {EXPAND_CELL_STYLES, IMPORTED_VALUE_CELL_STYLES, TYPE_CELL_STYLES} from \"./Cells\";\n\ninterface TableRowProps {\n  data: Row;\n  editCell: (questionIndex: number, newCell: Cell) => void;\n  onMouseEnter: () => void;\n  onMouseLeave: () => void;\n}\n\nfunction TableRow(props: TableRowProps) {\n  //TODO: see if there's better way than passing callbacks to all rows?\n  const {data: {cells}, editCell, ...callbacks} = props;\n\n  const [isExpanded, setIsExpanded] = useState(false);\n  const toggleIsExpanded = useCallback(() => setIsExpanded(isExpanded => !isExpanded), []);\n\n  return (\n    <>\n      {/* input row */}\n      <tr className=\"h-12 bg-gray-100\" {...callbacks}>\n        <td className={EXPAND_CELL_STYLES}>\n          <button onClick={toggleIsExpanded}>\n            <img className={`transform ${isExpanded ? \"\" : \"-rotate-90\"} h-4 w-4`} src={caretIcon} alt=\"A caret icon\"/>\n          </button>\n        </td>\n        <td className={TYPE_CELL_STYLES}>Input</td>\n        {\n          cells.map((cell, questionIndex) => (\n            <td className={IMPORTED_VALUE_CELL_STYLES} key={`${questionIndex}-${cell.input}`}>\n              {\n                questionIndex === 0 ? cell.input : (\n                  <EditableCell\n                    value={cell.input}\n                    onFinishEdit={(newValue) => {\n                      editCell(questionIndex, {\n                        ...cell,\n                        input: newValue,\n                      })\n                    }}\n                  />\n                )\n              }\n            </td>\n          ))\n        }\n      </tr>\n      {\n        isExpanded && (\n          <>\n            {/* buggy message row */}\n            <tr {...callbacks}>\n              <td></td>\n              <td className={TYPE_CELL_STYLES}>Buggy Message</td>\n              {\n                cells.map((cell, questionIndex) => (\n                  <td key={`${questionIndex}-${cell.buggyMessage}`}>\n                    {\n                      questionIndex === 0 ? cell.buggyMessage : (\n                        <EditableCell\n                          value={cell.buggyMessage}\n                          onFinishEdit={(newValue) => {\n                            editCell(questionIndex, {\n                              ...cell,\n                              buggyMessage: newValue,\n                            });\n                          }}\n                        />\n                      )\n                    }\n                  </td>\n                ))\n              }\n            </tr>\n            {/* hint row(s) */}\n            {\n              cells[0].hints?.map((_: string, hintLevel: number) => (\n                <tr key={hintLevel} {...callbacks}>\n                  <td></td>\n                  <td className={TYPE_CELL_STYLES}>Hint {hintLevel}</td>\n                  {\n                    cells.map((cell, questionIndex) => (\n                      <td key={`${questionIndex}-${cell.hints[hintLevel]}`}>\n                        {\n                          questionIndex === 0 ? cell.hints[hintLevel] : (\n                            <EditableCell\n                              value={cell.hints[hintLevel]}\n                              onFinishEdit={(newValue) => {\n                                const newHints = [...cell.hints];\n                                newHints[hintLevel] = newValue || \"\";\n\n                                editCell(questionIndex, {\n                                  ...cell,\n                                  hints: newHints,\n                                });\n                              }}\n                            />\n                          )\n                        }\n                      </td>\n                    ))}\n                </tr>\n              ))\n            }\n          </>\n        )\n      }\n    </>\n  )\n}\n\nexport default TableRow;\n","import React, {useCallback, useMemo, useState} from \"react\";\nimport {Brd} from \"../../types\";\nimport TableRow from \"./TableRow\";\nimport X2JS from 'x2js';\nimport {saveAs} from 'file-saver';\nimport JSZip from \"jszip\";\nimport Button from \"../../components/Button\";\nimport {IMPORTED_VALUE_CELL_STYLES, TYPE_CELL_STYLES} from \"./Cells\";\n\nconst zip = new JSZip();\nconst x2js = new X2JS({selfClosingElements: false});\n\ninterface EditorProps {\n  brd?: Brd;\n}\n\nexport interface Cell {\n  input?: string;\n  buggyMessage?: string;\n  hints: string[];\n}\n\nexport interface Row {\n  id: string;\n  selection?: string;\n  cells: Cell[];\n}\n\nfunction onMouseEnter(id?: string) {\n  if (id) {\n    const iframe = document.getElementById(\"tutor\");\n    // @ts-ignore\n    iframe?.contentWindow?.document?.getElementById(id)?.classList?.add('active');\n  }\n}\n\nfunction onMouseLeave(id?: string) {\n  if (id) {\n    const iframe = document.getElementById(\"tutor\");\n    // @ts-ignore\n    iframe?.contentWindow?.document?.getElementById(id)?.classList?.remove('active');\n  }\n}\n\nfunction Editor(props: EditorProps) {\n  const {brd} = props;\n\n  const [questions, setQuestions] = useState<Cell[][]>([]);\n\n  const initialRows: Row[] = useMemo(() => {\n    return brd ? (\n      brd.stateGraph.edge\n        .filter(edge => edge.actionLabel.message.properties.Input.value !== \"No_Value\")\n        // currently no support for formulas (i.e. ExpressionMatcher)\n        .filter(edge => edge.actionLabel.matchers.Input.matcher.matcherType === \"ExactMatcher\")\n        .map(edge => {\n          const matchers = edge.actionLabel.matchers;\n          const {buggyMessage, hintMessage} = edge.actionLabel || {};\n\n          return {\n            id: edge.actionLabel.uniqueID,\n            selection: matchers.Selection.matcher.matcherParameter.__text,\n            cells: [{\n              input: matchers.Input.matcher.matcherParameter.__text,\n              buggyMessage,\n              hints: typeof hintMessage === \"string\" ? [hintMessage] : !hintMessage ? [] : hintMessage,\n            }]\n          };\n        })\n    ) : [];\n  }, [brd]);\n\n  const rows: Row[] = initialRows.map((initialRow, index) => {\n    return {\n      ...initialRow,\n      cells: [...initialRow.cells, ...(questions || []).map(question => question[index])], // TODO: get rid of question?\n    }\n  });\n\n  const addNewQuestion = useCallback(() => {\n    setQuestions(existingQuestions => {\n      return [\n        ...(existingQuestions || []),\n        // new question has same values as imported question by default\n        initialRows.map(initialRow => initialRow.cells[0]),\n      ];\n    });\n  }, [initialRows]);\n\n  const editCell = useCallback((questionIndex: number, rowIndex: number, newCell: Cell) => {\n    setQuestions(existingQuestions => {\n      const newQuestions = [...(existingQuestions || [])];\n      // questions does not contain imported question\n      newQuestions[questionIndex - 1][rowIndex] = newCell;\n      return newQuestions;\n    });\n  }, []);\n\n  const generateBrdForQuestion = useCallback((questionIndex: number): Brd => {\n    const document: Brd = JSON.parse(JSON.stringify(brd));\n    rows.forEach(row => {\n      const uniqueID = row.id;\n      const cell = row.cells[questionIndex];\n      const edge = document.stateGraph.edge.find((edge) => edge.actionLabel.uniqueID === uniqueID);\n\n      if (!edge) return;\n\n      //@ts-ignore\n      edge.actionLabel.message.properties.Input.value = cell.input;\n      //@ts-ignore\n      edge.actionLabel.matchers.Input.matcher.matcherParameter.__text = cell.input;\n      //@ts-ignore\n      edge.actionLabel.buggyMessage = cell.buggyMessage;\n      //@ts-ignore\n      edge.actionLabel.hintMessage = cell.hints;\n    })\n    return document;\n  }, [brd, rows])\n\n  const onExportBrds = useCallback(() => {\n    for (let questionIndex = 1; questionIndex < rows[0].cells.length; questionIndex++) {\n      const brd = generateBrdForQuestion(questionIndex);\n      const xml = x2js.js2xml(brd);\n      zip.file(`problem${questionIndex + 1}.brd`, xml);\n    }\n    zip.generateAsync({type: \"blob\"}).then(function (content) {\n      saveAs(content, \"example.zip\");\n    });\n  }, [rows, generateBrdForQuestion]);\n\n  return brd ? (\n    <div className=\"flex flex-col\">\n      <div className=\"overflow-scroll\">\n        <table className=\"table-fixed\">\n          <thead className=\"bg-gray-300\">\n          <tr>\n            <th>{/* TODO: implement expand/collapse all */}</th>\n            <th className={TYPE_CELL_STYLES}>Type</th>\n            <th className={IMPORTED_VALUE_CELL_STYLES}>Imported Value</th>\n            {\n              questions && questions.map((_, index) => {\n                return <th key={`question-${index}`}>Question {index + 2}</th>;\n              })\n            }\n          </tr>\n          </thead>\n          <tbody>\n          {\n            rows.map((row, rowIndex) => {\n              return (\n                <TableRow\n                  key={row.id}\n                  data={row}\n                  editCell={(questionIndex, newCell) => editCell(questionIndex, rowIndex, newCell)}\n                  onMouseEnter={() => onMouseEnter(row.selection)}\n                  onMouseLeave={() => onMouseLeave(row.selection)}\n                />\n              )\n            })\n          }\n          </tbody>\n        </table>\n      </div>\n      <footer className=\"flex justify-between p-4\">\n        <Button onClick={addNewQuestion}>+ Add Question</Button>\n        <Button onClick={onExportBrds}>Export</Button>\n      </footer>\n    </div>\n  ) : null;\n}\n\nexport default Editor;\n","import React from \"react\";\nimport TutorInterface from \"./TutorInterface\";\nimport Editor from \"./Editor\";\nimport {Brd} from \"../../types\";\n\ninterface EditorPageProps {\n  brd?: Brd;\n  html?: string;\n  css?: string;\n}\n\nfunction EditorPage(props: EditorPageProps) {\n  const {brd, html, css} = props;\n  return (\n    <div className=\"h-screen flex flex-col flex-initial\">\n      <div className=\"p-2 bg-gray-800 text-white\">\n        CTAT Mass Production Tool\n      </div>\n      <div className=\"flex-auto flex\">\n        <div className=\"h-full w-half-screen\">\n          <TutorInterface html={html} css={css}/>\n        </div>\n        <div className=\"h-full w-half-screen\">\n          <Editor brd={brd}/>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default EditorPage;\n","import React, {useCallback, useState} from 'react';\nimport X2JS from 'x2js';\nimport {Brd} from \"./types\";\nimport LandingPage from \"./pages/landing/LandingPage\";\nimport EditorPage from \"./pages/editor/EditorPage\";\n\nconst x2js = new X2JS();\n\nfunction App() {\n  const [brd, setBrd] = useState<Brd>();\n  const [html, setHtml] = useState<string>();\n  const [css, setCss] = useState<string>();\n\n  const [isEditorLaunched, setIsEditorLaunched] = useState(false);\n\n  const onBrdUpload = useCallback(async (event) => {\n    const file = event.target.files[0];\n    const xml = await file.text() as string;\n    setBrd(x2js.xml2js(xml));\n  }, []);\n\n  const onHtmlUpload = useCallback(async (event) => {\n    const file = event.target.files[0];\n    const html = await file.text() as string;\n    setHtml(html)\n  }, []);\n\n  const onCssUpload = useCallback(async (event) => {\n    const file = event.target.files[0];\n    const css = await file.text() as string;\n    setCss(css)\n  }, []);\n\n  return isEditorLaunched ? (\n    <EditorPage\n      brd={brd}\n      html={html}\n      css={css}\n    />\n  ) : (\n    <LandingPage\n      brd={brd}\n      html={html}\n      css={css}\n      onBrdUpload={onBrdUpload}\n      onHtmlUpload={onHtmlUpload}\n      onCssUpload={onCssUpload}\n      onEditorLaunch={() => setIsEditorLaunched(true)}\n    />\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}